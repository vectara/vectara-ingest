# Box Ingestion Configuration
# Ingests all supported files from Box
# - PDFs: Extract tables, skip table/image summarization
# - XLSX, DOCX, PPTX: Ingest normally
# - Failed files: Auto-saved to inspection folder

vectara:
  corpus_key: box
  api_key: YOUR_VECTARA_API_KEY
  customer_id: YOUR_CUSTOMER_ID

  # Store failed/problematic documents for inspection
  store_docs: true
  output_dir: /tmp/box_inspection  # Failed files saved here

  reindex: false
  create_corpus: false

# Document processing configuration
doc_processing:
  # Use docling parser for best PDF/document handling
  doc_parser: docling

  # Process files locally (not via Vectara's API processing)
  process_locally: true

  # Table handling
  parse_tables: true           # Extract tables from PDFs
  enable_gmft: true             # Use GMFT for table extraction
  summarize_tables: false       # Skip AI summarization of tables

  # Image handling
  summarize_images: false       # Skip AI summarization of images

  # OCR configuration
  do_ocr: false                 # Set to true if you have scanned PDFs

  # Chunking configuration
  contextual_chunking: false
  use_core_indexing: false

  # Docling specific settings
  docling_config:
    chunking_strategy: hybrid
    chunk_size: 1024
    image_scale: 1.0

crawling:
  crawler_type: box

box_crawler:
  # JWT Authentication
  auth_type: jwt
  jwt_config_file: box_config.json

  # As-User authentication (uncomment if needed for full access)
  # as_user_id: "45547231077"

  # Folder configuration - crawl everything
  folder_ids:
    - "0"  # Root folder (all accessible folders)

  # Download settings
  download_path: /tmp/box_downloads

  # File filtering - all supported types
  file_extensions: []  # Empty = all files

  # Download all files (no limit)
  max_files: 0

  # Recursively crawl all subfolders
  recursive: true

  # Enable Vectara indexing
  skip_indexing: false  # false = ingest to Vectara

  # Disable report generation
  generate_report: false  # false = download and ingest files
